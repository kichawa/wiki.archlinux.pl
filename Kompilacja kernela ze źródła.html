<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<base href="http://wiki.archlinux.pl/Kompilacja_kernela_ze_%C5%BAr%C3%B3d%C5%82a"><div style="background:#fff;border:1px solid #999;margin:-1px -1px 0;padding:0;"><div style="background:#ddd;border:1px solid #999;color:#000;font:13px arial,sans-serif;font-weight:normal;margin:12px;padding:8px;text-align:left">To jest kopia z pamięci podręcznej Google adresu <a href="http://wiki.archlinux.pl/Kompilacja_kernela_ze_%C5%BAr%C3%B3d%C5%82a" style="text-decoration:underline;color:#00c">http://wiki.archlinux.pl/Kompilacja_kernela_ze_%C5%BAr%C3%B3d%C5%82a</a>. Zdjęcie przedstawia stan strony z 30 Lip 2011 10:53:40 GMT. <a href="http://wiki.archlinux.pl/Kompilacja_kernela_ze_%C5%BAr%C3%B3d%C5%82a" style="text-decoration:underline;color:#00c">Aktualna strona</a> może wyglądać inaczej. <a href="http://www.google.com/intl/pl/help/features_list.html#cached" style="text-decoration:underline;color:#00c">Więcej informacji</a><br><br><div style="float:right"><a href="http://webcache.googleusercontent.com/search?q=cache:WzcDxVTcjKMJ:wiki.archlinux.pl/Kompilacja_kernela_ze_%C5%BAr%C3%B3d%C5%82a+http://wiki.archlinux.pl+Kernel&amp;hl=pl&amp;client=firefox-a&amp;gl=pl&strip=1" style="text-decoration:underline;color:#00c">Wersja tekstowa</a></div>
<div>Te wyszukiwane hasła są podświetlone: <span style="background:#a0ffff;color:black;font-weight:bold">kernel</span>&nbsp;Znaleziono tyko w linkach do tej strony: <span style="font-weight:bold">http</span>&nbsp;<span style="font-weight:bold">wiki</span>&nbsp;<span style="font-weight:bold">archlinux</span>&nbsp;<span style="font-weight:bold">pl</span>&nbsp;&nbsp;</div></div></div><div style="position:relative">
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="pl" dir="ltr">
<head>
<title>Kompilacja kernela ze źródła – wiki.archlinux.pl</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="generator" content="MediaWiki 1.16.0" />
<link rel="alternate" type="application/x-wiki" title="Edytuj" href="/index.php?title=Kompilacja_kernela_ze_%C5%BAr%C3%B3d%C5%82a&amp;action=edit" />
<link rel="edit" title="Edytuj" href="/index.php?title=Kompilacja_kernela_ze_%C5%BAr%C3%B3d%C5%82a&amp;action=edit" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="wiki.archlinux.pl (pl)" />
<link title="Creative Commons" type="application/rdf+xml" href="/index.php?title=Kompilacja_kernela_ze_%C5%BAr%C3%B3d%C5%82a&amp;action=creativecommons" rel="meta" />
<link rel="copyright" href="http://www.gnu.org/licenses/old-licenses/fdl-1.2.txt" />
<link rel="alternate" type="application/atom+xml" title="Kanał Atom wiki.archlinux.pl" href="/index.php?title=Specjalna:Ostatnie_zmiany&amp;feed=atom" />
<link rel="stylesheet" href="/skins/common/shared.css?270" media="screen" />
<link rel="stylesheet" href="/skins/common/commonPrint.css?270" media="print" />
<link rel="stylesheet" href="/skins/archlinux/main.css?270" media="screen" />
<!--[if lt IE 5.5000]><link rel="stylesheet" href="/skins/archlinux/IE50Fixes.css?270" media="screen" /><![endif]-->
<!--[if IE 5.5000]><link rel="stylesheet" href="/skins/archlinux/IE55Fixes.css?270" media="screen" /><![endif]-->
<!--[if IE 6]><link rel="stylesheet" href="/skins/archlinux/IE60Fixes.css?270" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/skins/archlinux/IE70Fixes.css?270" media="screen" /><![endif]-->
<link rel="stylesheet" href="/skins/archlinux/archnavbar.css?270" media="screen" />
<link rel="stylesheet" href="/skins/archlinux/arch.css?270" media="screen" />
<link rel="stylesheet" href="/index.php?title=MediaWiki:Common.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000" />
<link rel="stylesheet" href="/index.php?title=MediaWiki:Print.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000" media="print" />
<link rel="stylesheet" href="/index.php?title=MediaWiki:Archlinux.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000" />
<link rel="stylesheet" href="/index.php?title=-&amp;action=raw&amp;maxage=18000&amp;gen=css" />
<script>
var skin="archlinux",
stylepath="/skins",
wgUrlProtocols="http\\:\\/\\/|https\\:\\/\\/|ftp\\:\\/\\/|irc\\:\\/\\/|gopher\\:\\/\\/|telnet\\:\\/\\/|nntp\\:\\/\\/|worldwind\\:\\/\\/|mailto\\:|news\\:|svn\\:\\/\\/",
wgArticlePath="/$1",
wgScriptPath="",
wgScriptExtension=".php",
wgScript="/index.php",
wgVariantArticlePath=false,
wgActionPaths={},
wgServer="http://wiki.archlinux.pl",
wgCanonicalNamespace="",
wgCanonicalSpecialPageName=false,
wgNamespaceNumber=0,
wgPageName="Kompilacja_kernela_ze_źródła",
wgTitle="Kompilacja kernela ze źródła",
wgAction="view",
wgArticleId=155,
wgIsArticle=true,
wgUserName=null,
wgUserGroups=null,
wgUserLanguage="pl",
wgContentLanguage="pl",
wgBreakFrames=false,
wgCurRevisionId=2699,
wgVersion="1.16.0",
wgEnableAPI=true,
wgEnableWriteAPI=true,
wgSeparatorTransformTable=[",	.", " 	,"],
wgDigitTransformTable=["", ""],
wgMainPageTitle="Strona główna",
wgFormattedNamespaces={"-2": "Media", "-1": "Specjalna", "0": "", "1": "Dyskusja", "2": "Użytkownik", "3": "Dyskusja użytkownika", "4": "wiki.archlinux.pl", "5": "Dyskusja wiki.archlinux.pl", "6": "Plik", "7": "Dyskusja pliku", "8": "MediaWiki", "9": "Dyskusja MediaWiki", "10": "Szablon", "11": "Dyskusja szablonu", "12": "Pomoc", "13": "Dyskusja pomocy", "14": "Kategoria", "15": "Dyskusja kategorii"},
wgNamespaceIds={"media": -2, "specjalna": -1, "": 0, "dyskusja": 1, "użytkownik": 2, "dyskusja_użytkownika": 3, "wiki.archlinux.pl": 4, "dyskusja_wiki.archlinux.pl": 5, "plik": 6, "dyskusja_pliku": 7, "mediawiki": 8, "dyskusja_mediawiki": 9, "szablon": 10, "dyskusja_szablonu": 11, "pomoc": 12, "dyskusja_pomocy": 13, "kategoria": 14, "dyskusja_kategorii": 15, "grafika": 6, "dyskusja_grafiki": 7, "image": 6, "image_talk": 7},
wgSiteName="wiki.archlinux.pl",
wgCategories=["HOWTO", "Kernel"],
wgRestrictionEdit=[],
wgRestrictionMove=[];
</script><script src="/skins/common/wikibits.js?270"></script>
<script src="/skins/common/ajax.js?270"></script>
<script src="/index.php?title=-&amp;action=raw&amp;gen=js&amp;useskin=archlinux&amp;270"></script>

</head>
<body class="mediawiki ltr ns-0 ns-subject page-Kompilacja_kernela_ze_źródła skin-archlinux">
<div id="archnavbar"><!-- Arch Linux global navigation bar -->
	<div id="archnavbarlogo">
		<p><a id="logo" href="http://archlinux.pl"></a></p>
	</div>
	<div id="archnavbarmenu">
		<ul id="archnavbarlist">
			<li id="anb-start"><a href="http://archlinux.pl">Start</a></li><li id="anb-pakiety"><a href="http://archlinux.pl/?page=Packages">Pakiety</a></li><li id="anb-forum"><a href="http://bbs.archlinux.pl">Forum</a></li><li id="anb-wiki" class="anb-selected"><a href="http://wiki.archlinux.pl">Wiki</a></li><li id="anb-planeta"><a href="http://planeta.archlinux.pl">Planeta</a></li><li id="anb-pobierz"><a href="http://wiki.archlinux.pl/Pobieranie">Pobierz</a></li>		</ul>
	</div>
</div><!-- #archnavbar -->
<div id="globalWrapper">
<div id="column-content"><div id="content" >
	<a id="top"></a>
	
	<h1 id="firstHeading" class="firstHeading">Kompilacja kernela ze źródła</h1>
	<div id="bodyContent">
		<h3 id="siteSub">Z wiki.archlinux.pl</h3>
		<div id="contentSub"></div>
		<div id="jump-to-nav">Skocz do: <a href="#column-one">nawigacji</a>, <a href="#searchInput">wyszukiwania</a></div>
		<!-- start content -->
<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Spis treści</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Wprowadzenie"><span class="tocnumber">1</span> <span class="toctext">Wprowadzenie</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Pobranie_archiwum"><span class="tocnumber">2</span> <span class="toctext">Pobranie archiwum</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Konfiguracja_j.C4.85dra"><span class="tocnumber">3</span> <span class="toctext">Konfiguracja jądra</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Kompilacja_i_instalacja"><span class="tocnumber">4</span> <span class="toctext">Kompilacja i instalacja</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Manualna.2C_tradycyjna_metoda"><span class="tocnumber">4.1</span> <span class="toctext">Manualna, tradycyjna metoda</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Z_u.C5.BCyciem_makepkg_i_pacmana_.28zalecane.29"><span class="tocnumber">4.2</span> <span class="toctext">Z użyciem makepkg i pacmana (zalecane)</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#Konfiguracja_bootloadera"><span class="tocnumber">5</span> <span class="toctext">Konfiguracja bootloadera</span></a></li>
</ul>
</td></tr></table><script>if (window.showTocToggle) { var tocShowText = "pokaż"; var tocHideText = "ukryj"; showTocToggle(); } </script>
<h2><span class="editsection">[<a href="/index.php?title=Kompilacja_kernela_ze_%C5%BAr%C3%B3d%C5%82a&amp;action=edit&amp;section=1" title="Edytuj sekcję: Wprowadzenie">edytuj</a>]</span> <span class="mw-headline" id="Wprowadzenie"> Wprowadzenie </span></h2>
<p>Poniższa instrukcja jest przydatna jeśli chcesz zbudować własne jądro ze źródeł <a href="http://kernel.org/" class="external free" rel="nofollow">http://<b style="color:black;background-color:#a0ffff">kernel</b>.org/</a>. Ta metoda jest uniwersalna dla wszystkich dystrybucji. Możliwe są dwie metody <b>instalacji</b> jądra: tradycyjna i z użyciem <a href="/Makepkg" title="Makepkg">makepkg</a> i <a href="/Pacman" title="Pacman">Pacmana</a>.
</p>
<h2><span class="editsection">[<a href="/index.php?title=Kompilacja_kernela_ze_%C5%BAr%C3%B3d%C5%82a&amp;action=edit&amp;section=2" title="Edytuj sekcję: Pobranie archiwum">edytuj</a>]</span> <span class="mw-headline" id="Pobranie_archiwum"> Pobranie archiwum </span></h2>
<ul><li> Ściągnij źródła kernela z <code><a href="http://kernel.org" class="external free" rel="nofollow">http://<b style="color:black;background-color:#a0ffff">kernel</b>.org</a></code>.
</li><li> Skopiuj archiwum do katalogu roboczego, np.:
</li></ul>
<div style="padding: 0.5em; line-height: 1.1; background-color: #333; color: #eee; border: 1px solid #08c"><code style="background: transparent; white-space: pre-wrap; overflow-x: auto">$ cp linux-2.6.36.tar.bz2 /home/user/kernelbuild/</code></div>
<ul><li> Rozpakuj i przejdź do tego katalogu:
</li></ul>
<div style="padding: 0.5em; line-height: 1.1; background-color: #333; color: #eee; border: 1px solid #08c"><code style="background: transparent; white-space: pre-wrap; overflow-x: auto">$ cd /home/user/kernelbuild/<br />$ tar -xvjf linux-2.6.36.tar.bz2<br />$ cd linux-2.6.36</code></div>
<h2><span class="editsection">[<a href="/index.php?title=Kompilacja_kernela_ze_%C5%BAr%C3%B3d%C5%82a&amp;action=edit&amp;section=3" title="Edytuj sekcję: Konfiguracja jądra">edytuj</a>]</span> <span class="mw-headline" id="Konfiguracja_j.C4.85dra"> Konfiguracja jądra </span></h2>
<ul><li> Jeśli wolisz bazować na bieżącej konfiguracji uruchomionego jądra skopiuj plik <b>*.config</b> do katalogu roboczego.
</li></ul>
<div style="padding: 0.5em; line-height: 1.1; background-color: #333; color: #eee; border: 1px solid #08c"><code style="background: transparent; white-space: pre-wrap; overflow-x: auto">$ zcat /proc/config.gz &gt; .config</code></div>
<ul><li> Metody konfiguracji:
</li></ul>
<p>Metoda tradycyjna:
</p>
<div style="padding: 0.5em; line-height: 1.1; background-color: #333; color: #eee; border: 1px solid #08c"><code style="background: transparent; white-space: pre-wrap; overflow-x: auto">$ make oldconfig         (zostaniesz zapytany tylko o opcje, które zostały dodane w kompilowanej wersji jądra)<br />$ make menuconfig        (standardowa, oparta o menu konfiguracja)</code></div>
<p><b style="color:black;background-color:#a0ffff">Kernel</b> od wersji 2.6.32 posiada bardziej przyjazny dla użytkownika interfejs konfiguracji jądra. Jest to skrypt <code>localmodconfig</code>, który zaznaczy część opcji za Ciebie bazując na liście obecnie załadowanych modułów.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #FFDDDD; border: thin solid #FFBBBB"><strong> Ostrzeżenie: </strong> <code>localmodconfig</code> oczekuje polecenia <code>lsmod</code> w <span style="font-family: monospace; color: #005500; white-space: nowrap">/sbin/lsmod</span>, natomiast w Archu jest to <span style="font-family: monospace; color: #005500; white-space: nowrap">/bin/lsmod</span>.
<p>Aby zrobić dowiązanie symboliczne wydajemy następujące polecenie (jako root):
</p>
<div style="padding: 0.5em; line-height: 1.1; background-color: #333; color: #eee; border: 1px solid #08c"><code style="background: transparent; white-space: pre-wrap; overflow-x: auto"># ln -s /bin/lsmod /sbin/lsmod</code></div></div>
<p>Następnie jako zwykły użytkownik:
</p>
<div style="padding: 0.5em; line-height: 1.1; background-color: #333; color: #eee; border: 1px solid #08c"><code style="background: transparent; white-space: pre-wrap; overflow-x: auto">$ make localmodconfig</code></div>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBFF"><strong> Notka: </strong> Więcej informacji o "localmodconfig": <a href="http://kernelnewbies.org/Linux_2_6_32#head-11f54cdac41ad6150ef817fd68597554d9d05a5f" class="external text" rel="nofollow">2.6.32 release notes</a>.</div>
<p>Możesz również użyć <code>make xconfig</code> (wymaga QT w wersji 3) lub <code>make gconfig</code> (wymaga GTK).
</p>
<ul><li> Bazując na wiedzy o posiadanym sprzęcie dokonaj zmian w konfiguracji i zapisz plik konfiguracyjny.
</li></ul>
<ul><li> Jeśli kompilujesz <b style="color:black;background-color:#a0ffff">kernel</b> używająć bieżącego pliku konfiguracyjnego i wersja nowego jądra jest ta sama w porównaniu z bieżącym, nie zapomnij edytować zmiennej <code>Local version</code>:
</li></ul>
<div style="padding: 0.5em; line-height: 1.1em; background-color: #333; color: #fff; border: 1px solid #08c"><code style="background: transparent; white-space: pre-wrap; overflow-x: auto">$ $ make menuconfig</code></div>
<pre style="white-space: pre-wrap; overflow-x: auto; border-top: none; margin-top: 0">General setup  ---&gt;
(-WLASNY) Local version - append to <b style="color:black;background-color:#a0ffff">kernel</b> release</pre>
<h2><span class="editsection">[<a href="/index.php?title=Kompilacja_kernela_ze_%C5%BAr%C3%B3d%C5%82a&amp;action=edit&amp;section=4" title="Edytuj sekcję: Kompilacja i instalacja">edytuj</a>]</span> <span class="mw-headline" id="Kompilacja_i_instalacja"> Kompilacja i instalacja </span></h2>
<p>Masz dwie metody do wyboru:
</p>
<h4><span class="editsection">[<a href="/index.php?title=Kompilacja_kernela_ze_%C5%BAr%C3%B3d%C5%82a&amp;action=edit&amp;section=5" title="Edytuj sekcję: Manualna, tradycyjna metoda">edytuj</a>]</span> <span class="mw-headline" id="Manualna.2C_tradycyjna_metoda"> Manualna, tradycyjna metoda </span></h4>
<ul><li> Rozpocznij kompilację:
</li></ul>
<div style="padding: 0.5em; line-height: 1.1; background-color: #333; color: #eee; border: 1px solid #08c"><code style="background: transparent; white-space: pre-wrap; overflow-x: auto">$ make</code></div>
<p>(To samo co: make vmlinux &amp;&amp; make modules &amp;&amp; make bzImage - zobacz make help jeśli chcesz więcej informacji.)
</p>
<ul><li> Zainstaluj moduły: (Musisz to wykonać jako root.)
</li></ul>
<div style="padding: 0.5em; line-height: 1.1; background-color: #333; color: #eee; border: 1px solid #08c"><code style="background: transparent; white-space: pre-wrap; overflow-x: auto"># make modules_install</code></div>
<p>Polecenie to kopiuje wcześniej skompilowane moduły do <span style="font-family: monospace; color: #005500; white-space: nowrap">/lib/modules</span>.
</p>
<ul><li> Skopiuj obraz jądra:
</li></ul>
<div style="padding: 0.5em; line-height: 1.1; background-color: #333; color: #eee; border: 1px solid #08c"><code style="background: transparent; white-space: pre-wrap; overflow-x: auto"># cp -v arch/x86/boot/bzImage /boot/vmlinuz-2.6.36-WLASNY</code></div>
<ul><li> Skopiuj plik <span style="font-family: monospace; color: #005500; white-space: nowrap">System.map</span>:
</li></ul>
<div style="padding: 0.5em; line-height: 1.1; background-color: #333; color: #eee; border: 1px solid #08c"><code style="background: transparent; white-space: pre-wrap; overflow-x: auto"># cp -v System.map /boot/System.map-2.6.36-WLASNY</code></div>
<ul><li> Jeśli do jądra dołączyłeś obsługę <a href="/Initrd" title="Initrd">Initrd</a> i niezbędne moduły omiń ten krok. Jeśli skonfigurowałeś jądro bez obsługi ramdysku (<code>initrd</code>), będziesz musiał go utworzyć:
</li></ul>
<div style="padding: 0.5em; line-height: 1.1; background-color: #333; color: #eee; border: 1px solid #08c"><code style="background: transparent; white-space: pre-wrap; overflow-x: auto"># mkinitcpio -k 2.6.36-WLASNY -g /boot/kernel26-WLASNY.img</code></div>
<h4><span class="editsection">[<a href="/index.php?title=Kompilacja_kernela_ze_%C5%BAr%C3%B3d%C5%82a&amp;action=edit&amp;section=6" title="Edytuj sekcję: Z użyciem makepkg i pacmana (zalecane)">edytuj</a>]</span> <span class="mw-headline" id="Z_u.C5.BCyciem_makepkg_i_pacmana_.28zalecane.29"> Z użyciem makepkg i pacmana (zalecane)</span></h4>
<p>Ta metoda ma tę zaletę, że tworzony jest pakiet, który może być zarządzany przez pacmana, dzięki czemu zachowujemy pełny porządek w systemie.
</p><p>Stwórz plik PKGBUILD i kernel26.install w katalogu roboczym.
</p><p><b><a href="/PKGBUILD" title="PKGBUILD">PKGBUILD</a></b>
</p><p>Zmień jedynie wersję jądra na odpowiednią.
</p>
<pre>
pkgname=kernel26-own
basekernel=2.6.36
pkgver=2.6.36
pkgrel=1
pkgdesc=&quot;The Linux <b style="color:black;background-color:#a0ffff">Kernel</b> and modules&quot;
arch=('i686' 'x86_64')
license=('GPL')
url=&quot;http://www.<b style="color:black;background-color:#a0ffff">kernel</b>.org&quot;
depends=('module-init-tools' 'mkinitcpio')
provides=(kernel26)
install=kernel26.install

build() {
  LOCAL_VERSION=&quot;$(grep &quot;CONFIG_LOCALVERSION=&quot; $startdir/.config | sed 's/.*&quot;\(.*\)&quot;/\1/')&quot;

  cd ..
  make || return 1
  mkdir -p $startdir/pkg/{lib/modules,boot}
  make INSTALL_MOD_PATH=$startdir/pkg modules_install || return 1

  # There's no separation of firmware depending on <b style="color:black;background-color:#a0ffff">kernel</b> version - 
  # comment this line if you intend on using the built <b style="color:black;background-color:#a0ffff">kernel</b> exclusively,
  # otherwise there'll be file conflicts with the existing <b style="color:black;background-color:#a0ffff">kernel</b>
  rm -rf $startdir/pkg/lib/firmware

  install -Dm644 &quot;System.map&quot; &quot;$startdir/pkg/boot/System.map26$LOCAL_VERSION&quot;
  install -Dm644 &quot;arch/x86/boot/bzImage&quot; &quot;$startdir/pkg/boot/vmlinuz26$LOCAL_VERSION&quot;

  # Change the version strings in kernel26.install
  sed -i \
	-e &quot;s/KERNEL_VERSION=.*/KERNEL_VERSION=\&quot;$basekernel\&quot;/&quot; \
	-e &quot;s/LOCAL_VERSION=.*/LOCAL_VERSION=\&quot;$LOCAL_VERSION\&quot;/&quot; \
	$startdir/kernel26.install
}
</pre>
<p><b>kernel26.install</b>
</p>
<pre>
KERNEL_VERSION=&quot;2.6.36&quot;
LOCAL_VERSION=&quot;-WLASNY&quot;

post_install () {
  echo &quot;&gt;&gt;&gt; Updating module dependencies...&quot;
  /sbin/depmod -A -v ${KERNEL_VERSION}${LOCAL_VERSION}
  echo &quot;&gt;&gt;&gt; Creating initial ramdisk...&quot;
  mkinitcpio -k &quot;${KERNEL_VERSION}${LOCAL_VERSION}&quot; -g &quot;/boot/kernel26${LOCAL_VERSION}.img&quot;
}

post_upgrade() {
  echo &quot;&gt;&gt;&gt; Updating module dependencies...&quot;
  /sbin/depmod -A -v ${KERNEL_VERSION}${LOCAL_VERSION}
  echo &quot;&gt;&gt;&gt; Creating initial ramdisk...&quot;
  mkinitcpio -k &quot;${KERNEL_VERSION}${LOCAL_VERSION}&quot; -g &quot;/boot/kernel26${LOCAL_VERSION}.img&quot;
}
</pre>
<p>Teraz możesz zbudować i zainstalować nowe jądro:
</p>
<div style="padding: 0.5em; line-height: 1.1; background-color: #333; color: #eee; border: 1px solid #08c"><code style="background: transparent; white-space: pre-wrap; overflow-x: auto">$ makepkg -s -i</code></div>
<p>(Opcja -s zainstaluje wymagane zależności. Opcja -i nakaże zainstalować pakiet po zbudowaniu.)
</p>
<h2><span class="editsection">[<a href="/index.php?title=Kompilacja_kernela_ze_%C5%BAr%C3%B3d%C5%82a&amp;action=edit&amp;section=7" title="Edytuj sekcję: Konfiguracja bootloadera">edytuj</a>]</span> <span class="mw-headline" id="Konfiguracja_bootloadera"> Konfiguracja bootloadera </span></h2>
<p>Dodaj odpowiedni wpis do Twojego nowego jądra w <a href="/GRUB" title="GRUB">GRUBIE</a>, <a href="/GRUB2" title="GRUB2">GRUBIE 2</a> lub <a href="/LILO" title="LILO">LILO</a>.
</p>
<!-- 
NewPP limit report
Preprocessor node count: 224/1000000
Post-expand include size: 6839/2097152 bytes
Template argument size: 3026/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key archlinux_db-wiki_:pcache:idhash:155-0!1!0!!pl!2 and timestamp 20110707080205 -->
<div class="printfooter">
Źródło „<a href="http://wiki.archlinux.pl/Kompilacja_kernela_ze_%C5%BAr%C3%B3d%C5%82a">http://wiki.archlinux.pl/Kompilacja_kernela_ze_%C5%BAr%C3%B3d%C5%82a</a>”</div>
		<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks"><a href="/Specjalna:Kategorie" title="Specjalna:Kategorie">Kategorie</a>: <span dir='ltr'><a href="/Kategoria:HOWTO" title="Kategoria:HOWTO">HOWTO</a></span> | <span dir='ltr'><a href="/Kategoria:Kernel" title="Kategoria:Kernel"><b style="color:black;background-color:#a0ffff">Kernel</b></a></span></div></div>		<!-- end content -->
				<div class="visualClear"></div>
	</div>
</div></div>
<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Widok</h5>
		<div class="pBody">
			<ul>
				 <li id="ca-nstab-main" class="selected"><a href="/Kompilacja_kernela_ze_%C5%BAr%C3%B3d%C5%82a" title="Zobacz stronę treści [c]" accesskey="c">Strona</a></li>
				 <li id="ca-talk" class="new"><a href="/index.php?title=Dyskusja:Kompilacja_kernela_ze_%C5%BAr%C3%B3d%C5%82a&amp;action=edit&amp;redlink=1" title="Dyskusja o zawartości tej strony. [t]" accesskey="t">Dyskusja</a></li>
				 <li id="ca-edit"><a href="/index.php?title=Kompilacja_kernela_ze_%C5%BAr%C3%B3d%C5%82a&amp;action=edit" title="Możesz edytować tę stronę. Przed zapisaniem zmian użyj przycisku podgląd. [e]" accesskey="e">Edytuj</a></li>
				 <li id="ca-history"><a href="/index.php?title=Kompilacja_kernela_ze_%C5%BAr%C3%B3d%C5%82a&amp;action=history" title="Starsze wersje tej strony. [h]" accesskey="h">Historia i autorzy</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Osobiste</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="/index.php?title=Specjalna:Zaloguj&amp;returnto=Kompilacja_kernela_ze_%C5%BAr%C3%B3d%C5%82a" title="Zachęcamy do zalogowania się, choć nie jest to obowiązkowe. [o]" accesskey="o">Logowanie i rejestracja</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(/skins/common/images/wiki.png);" href="/Strona_g%C5%82%C3%B3wna" title="Strona główna"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div class='generated-sidebar portlet' id='p-navigation'>
		<h5>Nawigacja</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage-description"><a href="/Strona_g%C5%82%C3%B3wna" title="Przejdź na stronę główną [z]" accesskey="z">Strona główna</a></li>
				<li id="n-portal"><a href="/wiki.archlinux.pl:Portal_spo%C5%82eczno%C5%9Bci" title="O projekcie, co możesz zrobić, gdzie możesz znaleźć informacje">Portal społeczności</a></li>
				<li id="n-currentevents"><a href="/wiki.archlinux.pl:Aktualno%C5%9Bci" title="Informacje o aktualnych wydarzeniach">Bieżące wydarzenia</a></li>
				<li id="n-recentchanges"><a href="/Specjalna:Ostatnie_zmiany" title="Lista ostatnich zmian na wiki.archlinux.pl. [r]" accesskey="r">Ostatnie zmiany</a></li>
				<li id="n-randompage"><a href="/Specjalna:Losowa_strona" title="Pokaż stronę wybraną losowo [x]" accesskey="x">Losowa strona</a></li>
				<li id="n-help"><a href="/Pomoc:Spis_tre%C5%9Bci" title="Tutaj możesz się wielu rzeczy dowiedzieć.">Pomoc</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Szukaj</label></h5>
		<div id="searchBody" class="pBody">
			<form action="/index.php" id="searchform">
				<input type='hidden' name="title" value="Specjalna:Szukaj"/>
				<input id="searchInput" title="Przeszukaj wiki.archlinux.pl" accesskey="f" type="search" name="search" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Przejdź" title="Przejdź do strony o dokładnie takim tytule, o ile istnieje" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" id="mw-searchButton" value="Szukaj" title="Szukaj wprowadzonego tekstu w treści stron" />
			</form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Narzędzia</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="/Specjalna:Linkuj%C4%85ce/Kompilacja_kernela_ze_%C5%BAr%C3%B3d%C5%82a" title="Pokaż listę wszystkich stron linkujących do tej strony [j]" accesskey="j">Linkujące</a></li>
				<li id="t-recentchangeslinked"><a href="/Specjalna:Zmiany_w_linkuj%C4%85cych/Kompilacja_kernela_ze_%C5%BAr%C3%B3d%C5%82a" title="Ostatnie zmiany w stronach, do których ta strona linkuje [k]" accesskey="k">Zmiany w dolinkowanych</a></li>
<li id="t-specialpages"><a href="/Specjalna:Strony_specjalne" title="Lista wszystkich specjalnych stron [q]" accesskey="q">Strony specjalne</a></li>
				<li id="t-print"><a href="/index.php?title=Kompilacja_kernela_ze_%C5%BAr%C3%B3d%C5%82a&amp;printable=yes" rel="alternate" title="Wersja do wydruku [p]" accesskey="p">Wersja do druku</a></li>				<li id="t-permalink"><a href="/index.php?title=Kompilacja_kernela_ze_%C5%BAr%C3%B3d%C5%82a&amp;oldid=2699" title="Stały link do tej wersji strony">Link do tej wersji</a></li>			</ul>
		</div>
	</div>
</div><!-- end of the left (by default at least) column -->
<div class="visualClear"></div>
<div id="footer">
	<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="/skins/common/images/poweredby_mediawiki_88x31.png" height="31" width="88" alt="Powered by MediaWiki" /></a></div>
	<div id="f-copyrightico"><a href="http://www.gnu.org/licenses/old-licenses/fdl-1.2.txt"><img src="/skins/common/images/gnu-fdl.png" alt="GNU Free Documentation License 1.2" width="88" height="31" /></a></div>
	<ul id="f-list">
		<li id="lastmod"> Tę stronę ostatnio zmodyfikowano 09:23, 16 mar 2011.</li>
		<li id="viewcount">Tę stronę obejrzano 1088 razy.</li>
		<li id="copyright">Treść udostępniana na licencji <a href="http://www.gnu.org/licenses/old-licenses/fdl-1.2.txt" class="external ">GNU Free Documentation License 1.2</a>.</li>
		<li id="privacy"><a href="/wiki.archlinux.pl:Zasady_ochrony_prywatno%C5%9Bci" title="wiki.archlinux.pl:Zasady ochrony prywatności">Zasady ochrony prywatności</a></li>
		<li id="about"><a href="/wiki.archlinux.pl:O_wiki.archlinux.pl" title="wiki.archlinux.pl:O wiki.archlinux.pl">O wiki.archlinux.pl</a></li>
		<li id="disclaimer"><a href="/wiki.archlinux.pl:Informacje_prawne" title="wiki.archlinux.pl:Informacje prawne">Informacje prawne</a></li>
	</ul>
</div>
</div>

<script>if (window.runOnloadHook) runOnloadHook();</script>
<!-- Served in 0.036 secs. --></body></html>
